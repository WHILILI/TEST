<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ìƒí•œ ì•¼êµ¬ - ê´´ìƒí•œ ë°°íŠ¸ë¡œ íƒ€ìë˜ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #90EE90 100%);
            min-height: 100vh;
            color: white;
            overflow: hidden;
        }

        .game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .scoreboard {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.2em;
            z-index: 100;
        }

        .title {
            font-size: 2em;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .stats {
            display: flex;
            gap: 30px;
        }

        .field {
            flex: 1;
            position: relative;
            background: radial-gradient(ellipse at center bottom, #90EE90 0%, #228B22 100%);
            overflow: hidden;
        }

        .pitcher-mound {
            position: absolute;
            bottom: 40%;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 20px;
            background: #8B4513;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            z-index: 10;
        }

        .batter-box {
            position: absolute;
            bottom: 10%;
            right: 45%;
            width: 100px;
            height: 100px;
            border: 3px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .batter {
            font-size: 3em;
            transition: transform 0.3s ease;
            position: relative;
        }

        .batter.swinging {
            transform: rotate(45deg);
        }

        .bat-display {
            position: absolute;
            bottom: 15%;
            right: 20%;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            min-width: 200px;
            border: 2px solid #FFD700;
        }

        .current-bat {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #FFD700;
        }

        .bat-effect {
            font-size: 1em;
            color: #87CEEB;
        }

        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            border: 2px solid #FF0000;
            z-index: 15;
            transition: all 0.1s linear;
        }

        .hit-ball {
            background: #FFD700;
            box-shadow: 0 0 20px #FFD700;
        }

        .controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            z-index: 100;
        }

        .control-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .swing-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF5252);
            color: white;
        }

        .swing-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .bat-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .bat-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .reset-btn {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
            color: white;
        }

        .reset-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }

        .special-effect {
            position: absolute;
            pointer-events: none;
            z-index: 20;
            font-size: 2em;
            animation: specialEffect 2s ease-out forwards;
        }

        @keyframes specialEffect {
            0% { 
                transform: scale(0.5);
                opacity: 0;
            }
            50% { 
                transform: scale(1.2);
                opacity: 1;
            }
            100% { 
                transform: scale(1);
                opacity: 0;
            }
        }

        .homerun-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.3) 0%, transparent 70%);
            pointer-events: none;
            z-index: 50;
            animation: homerunFlash 1s ease-out;
        }

        @keyframes homerunFlash {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .result-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid #FFD700;
            text-align: center;
            display: none;
            z-index: 200;
        }

        .distance-meter {
            position: absolute;
            top: 20%;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            min-width: 150px;
        }

        .meter-bar {
            width: 100%;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            position: relative;
            margin: 10px 0;
            border: 2px solid white;
        }

        .meter-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(0deg, #4CAF50 0%, #FFC107 50%, #FF5722 100%);
            border-radius: 8px;
            transition: height 0.5s ease;
        }

        .achievement {
            position: absolute;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.9);
            color: black;
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.5em;
            font-weight: bold;
            animation: achievementPop 3s ease-out forwards;
            z-index: 100;
        }

        @keyframes achievementPop {
            0% { 
                transform: translateX(-50%) scale(0);
                opacity: 0;
            }
            20% { 
                transform: translateX(-50%) scale(1.2);
                opacity: 1;
            }
            80% { 
                transform: translateX(-50%) scale(1);
                opacity: 1;
            }
            100% { 
                transform: translateX(-50%) scale(0);
                opacity: 0;
            }
        }

        .clouds {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            overflow: hidden;
        }

        .cloud {
            position: absolute;
            color: white;
            font-size: 3em;
            opacity: 0.7;
            animation: cloudMove 20s linear infinite;
        }

        @keyframes cloudMove {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="scoreboard">
            <div class="title">âš¾ ì´ìƒí•œ ì•¼êµ¬ âš¾</div>
            <div class="stats">
                <div>íƒ€ìˆ˜: <span id="at-bats">0</span></div>
                <div>ì•ˆíƒ€: <span id="hits">0</span></div>
                <div>í™ˆëŸ°: <span id="homeruns">0</span></div>
                <div>ì´ ê±°ë¦¬: <span id="total-distance">0</span>m</div>
                <div>íƒ€ìœ¨: <span id="batting-average">0.000</span></div>
            </div>
        </div>

        <div class="field">
            <div class="clouds">
                <div class="cloud" style="top: 10%; animation-delay: 0s;">â˜ï¸</div>
                <div class="cloud" style="top: 5%; animation-delay: -5s;">â˜ï¸</div>
                <div class="cloud" style="top: 15%; animation-delay: -10s;">â˜ï¸</div>
            </div>

            <div class="pitcher-mound">
                ğŸ¤–
            </div>

            <div class="batter-box">
                <div class="batter" id="batter">ğŸ</div>
            </div>

            <div class="bat-display">
                <div class="current-bat">í˜„ì¬ ë°°íŠ¸:</div>
                <div id="current-bat-name">ì¼ë°˜ ë°°íŠ¸</div>
                <div class="bat-effect" id="bat-effect">íŠ¹ìˆ˜ íš¨ê³¼ ì—†ìŒ</div>
            </div>

            <div class="distance-meter">
                <div>ê±°ë¦¬ ì¸¡ì •ê¸°</div>
                <div class="meter-bar">
                    <div class="meter-fill" id="meter-fill"></div>
                </div>
                <div>ìµœëŒ€: <span id="max-distance">0</span>m</div>
            </div>
        </div>

        <div class="controls">
            <div style="color: #FFD700; margin-bottom: 10px; font-weight: bold;">ì¡°ì‘</div>
            <button class="control-btn swing-btn" onclick="swing()">ìŠ¤ìœ™! (SPACE)</button>
            <button class="control-btn bat-btn" onclick="changeBat()">ë°°íŠ¸ êµì²´ (B)</button>
            <button class="control-btn reset-btn" onclick="resetGame()">ê²Œì„ ë¦¬ì…‹ (R)</button>
        </div>

        <div class="result-display" id="result-display">
            <h2 id="result-title">ê²°ê³¼</h2>
            <p id="result-text">ê²°ê³¼ í…ìŠ¤íŠ¸</p>
            <button class="control-btn swing-btn" onclick="closeResult()" style="margin-top: 20px;">ê³„ì†í•˜ê¸°</button>
        </div>
    </div>

    <script>
        let gameState = {
            atBats: 0,
            hits: 0,
            homeruns: 0,
            totalDistance: 0,
            maxDistance: 0,
            currentBatIndex: 0,
            ballInPlay: false,
            achievements: new Set()
        };

        const bats = [
            {
                name: 'ì¼ë°˜ ë°°íŠ¸',
                emoji: 'ğŸ',
                power: 1.0,
                accuracy: 1.0,
                effect: 'íŠ¹ìˆ˜ íš¨ê³¼ ì—†ìŒ',
                special: null
            },
            {
                name: 'ë¡œì¼“ ë°°íŠ¸',
                emoji: 'ğŸš€',
                power: 2.5,
                accuracy: 0.7,
                effect: 'ì´ˆê°•ë ¥ íŒŒì›Œ! ë‚®ì€ ì •í™•ë„',
                special: 'rocket'
            },
            {
                name: 'ë§ˆë²• ì§€íŒ¡ì´',
                emoji: 'ğŸª„',
                power: 1.2,
                accuracy: 1.5,
                effect: 'ë§ˆë²•ìœ¼ë¡œ ê³µì„ ìœ ë„',
                special: 'magic'
            },
            {
                name: 'í–„ë¨¸',
                emoji: 'ğŸ”¨',
                power: 3.0,
                accuracy: 0.5,
                effect: 'ì—„ì²­ë‚œ íŒŒì›Œ, ë§¤ìš° ë‚®ì€ ì •í™•ë„',
                special: 'hammer'
            },
            {
                name: 'ìš°ì‚°',
                emoji: 'â˜‚ï¸',
                power: 0.8,
                accuracy: 1.8,
                effect: 'ë°”ëŒì„ ì´ìš©í•´ ë©€ë¦¬ ë‚ ë¦¼',
                special: 'wind'
            },
            {
                name: 'ë°”ë‚˜ë‚˜',
                emoji: 'ğŸŒ',
                power: 0.5,
                accuracy: 0.3,
                effect: 'ëœë¤í•œ ê¶¤ë„ë¡œ ë‚ ì•„ê°',
                special: 'banana'
            },
            {
                name: 'ê²€',
                emoji: 'âš”ï¸',
                power: 1.8,
                accuracy: 1.3,
                effect: 'ì •í™•í•˜ê³  ë‚ ì¹´ë¡œìš´ íƒ€ê²©',
                special: 'sword'
            },
            {
                name: 'ë¬¼ê³ ê¸°',
                emoji: 'ğŸŸ',
                power: 0.3,
                accuracy: 0.1,
                effect: 'ì™œ ë¬¼ê³ ê¸°ë¡œ ì¹˜ë ¤ê³  í•˜ëŠ”ê°€?',
                special: 'fish'
            },
            {
                name: 'ë²ˆê°œ ë°°íŠ¸',
                emoji: 'âš¡',
                power: 2.2,
                accuracy: 1.1,
                effect: 'ë²ˆê°œì²˜ëŸ¼ ë¹ ë¥¸ ìŠ¤ìœ™',
                special: 'lightning'
            },
            {
                name: 'ë¬´ì§€ê°œ ë°°íŠ¸',
                emoji: 'ğŸŒˆ',
                power: 1.5,
                accuracy: 1.0,
                effect: 'í–‰ìš´ì˜ í˜ìœ¼ë¡œ ë©€í‹°ë³¼!',
                special: 'rainbow'
            }
        ];

        function updateDisplay() {
            document.getElementById('at-bats').textContent = gameState.atBats;
            document.getElementById('hits').textContent = gameState.hits;
            document.getElementById('homeruns').textContent = gameState.homeruns;
            document.getElementById('total-distance').textContent = gameState.totalDistance;
            document.getElementById('max-distance').textContent = gameState.maxDistance;
            
            const average = gameState.atBats > 0 ? (gameState.hits / gameState.atBats).toFixed(3) : '0.000';
            document.getElementById('batting-average').textContent = average;
            
            const currentBat = bats[gameState.currentBatIndex];
            document.getElementById('current-bat-name').textContent = currentBat.name + ' ' + currentBat.emoji;
            document.getElementById('bat-effect').textContent = currentBat.effect;
            document.getElementById('batter').textContent = currentBat.emoji;
        }

        function throwBall() {
            const ball = document.createElement('div');
            ball.className = 'ball';
            ball.style.left = '50%';
            ball.style.bottom = '40%';
            document.querySelector('.field').appendChild(ball);
            
            let position = { x: 50, y: 40 };
            const targetX = 45;
            const targetY = 10;
            const speed = 2;
            
            const interval = setInterval(() => {
                position.x += (targetX - position.x) * 0.1;
                position.y += (targetY - position.y) * 0.1;
                
                ball.style.left = position.x + '%';
                ball.style.bottom = position.y + '%';
                
                if (Math.abs(position.x - targetX) < 1 && Math.abs(position.y - targetY) < 1) {
                    clearInterval(interval);
                    if (!gameState.ballInPlay) {
                        setTimeout(() => {
                            if (ball.parentNode) {
                                ball.parentNode.removeChild(ball);
                            }
                            showResult('ìŠ¤íŠ¸ë¼ì´í¬!', 'ê³µì„ ì¹˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');
                            gameState.atBats++;
                            updateDisplay();
                        }, 500);
                    }
                }
            }, 50);
            
            return ball;
        }

        function swing() {
            if (gameState.ballInPlay) return;
            
            gameState.ballInPlay = true;
            document.getElementById('batter').classList.add('swinging');
            
            const ball = throwBall();
            
            setTimeout(() => {
                document.getElementById('batter').classList.remove('swinging');
                
                const currentBat = bats[gameState.currentBatIndex];
                const hitChance = currentBat.accuracy * 0.8;
                const isHit = Math.random() < hitChance;
                
                if (isHit) {
                    hitBall(ball, currentBat);
                } else {
                    showResult('í—›ìŠ¤ìœ™!', 'ê³µì„ ë§ì¶”ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');
                    gameState.atBats++;
                }
                
                gameState.ballInPlay = false;
                updateDisplay();
            }, 300);
        }

        function hitBall(ball, bat) {
            ball.classList.add('hit-ball');
            gameState.atBats++;
            gameState.hits++;
            
            const basePower = bat.power;
            const randomFactor = 0.5 + Math.random();
            const distance = Math.floor(basePower * randomFactor * 100);
            
            gameState.totalDistance += distance;
            gameState.maxDistance = Math.max(gameState.maxDistance, distance);
            
            animateHitBall(ball, distance, bat);
            applySpecialEffect(bat, distance);
            
            let resultTitle, resultText;
            
            if (distance >= 400) {
                resultTitle = 'ğŸ† í™ˆëŸ°!';
                resultText = `ì—„ì²­ë‚œ ${distance}m í™ˆëŸ°ì…ë‹ˆë‹¤!`;
                gameState.homeruns++;
                createHomerunEffect();
            } else if (distance >= 300) {
                resultTitle = 'ğŸ”¥ ì¥íƒ€!';
                resultText = `í›Œë¥­í•œ ${distance}m ì¥íƒ€ì…ë‹ˆë‹¤!`;
            } else if (distance >= 200) {
                resultTitle = 'ğŸ‘ ì•ˆíƒ€!';
                resultText = `ì¢‹ì€ ${distance}m ì•ˆíƒ€ì…ë‹ˆë‹¤!`;
            } else {
                resultTitle = 'âš¾ ì•½í•œ íƒ€êµ¬';
                resultText = `${distance}m ì•½í•œ íƒ€êµ¬ì…ë‹ˆë‹¤.`;
            }
            
            updateDistanceMeter(distance);
            checkAchievements(distance);
            showResult(resultTitle, resultText);
        }

        function animateHitBall(ball, distance, bat) {
            const maxDistance = 500;
            const finalX = 20 + (distance / maxDistance) * 60;
            const finalY = 80 + (distance / maxDistance) * 20;
            
            let currentX = 45;
            let currentY = 10;
            let frame = 0;
            const totalFrames = 60;
            
            const animation = setInterval(() => {
                frame++;
                const progress = frame / totalFrames;
                
                currentX = 45 + (finalX - 45) * progress;
                currentY = 10 + (finalY - 10) * progress * (1 - progress * 0.5);
                
                ball.style.left = currentX + '%';
                ball.style.bottom = currentY + '%';
                ball.style.transform = `scale(${1 - progress * 0.5})`;
                
                if (frame >= totalFrames) {
                    clearInterval(animation);
                    setTimeout(() => {
                        if (ball.parentNode) {
                            ball.parentNode.removeChild(ball);
                        }
                    }, 1000);
                }
            }, 50);
        }

        function applySpecialEffect(bat, distance) {
            const field = document.querySelector('.field');
            
            switch (bat.special) {
                case 'rocket':
                    createSpecialEffect('ğŸš€ğŸ’¨', '30%', '50%');
                    break;
                case 'magic':
                    createSpecialEffect('âœ¨ğŸŒŸâœ¨', '40%', '60%');
                    setTimeout(() => createSpecialEffect('ğŸ”®', '50%', '70%'), 500);
                    break;
                case 'hammer':
                    createSpecialEffect('ğŸ’¥ğŸ”¨ğŸ’¥', '35%', '55%');
                    break;
                case 'wind':
                    createSpecialEffect('ğŸŒªï¸ğŸ’¨', '45%', '65%');
                    break;
                case 'banana':
                    createSpecialEffect('ğŸŒğŸ˜‚', '25%', '45%');
                    if (Math.random() < 0.3) {
                        setTimeout(() => createSpecialEffect('ğŸ¤ª', '60%', '30%'), 1000);
                    }
                    break;
                case 'sword':
                    createSpecialEffect('âš”ï¸ğŸ’¢', '40%', '50%');
                    break;
                case 'fish':
                    createSpecialEffect('ğŸŸğŸ’¦', '35%', '45%');
                    if (Math.random() < 0.5) {
                        setTimeout(() => createSpecialEffect('ğŸ˜…', '50%', '60%'), 800);
                    }
                    break;
                case 'lightning':
                    createSpecialEffect('âš¡âš¡âš¡', '45%', '55%');
                    document.querySelector('.field').style.filter = 'brightness(1.5)';
                    setTimeout(() => {
                        document.querySelector('.field').style.filter = 'brightness(1)';
                    }, 200);
                    break;
                case 'rainbow':
                    createSpecialEffect('ğŸŒˆ', '40%', '60%');
                    if (Math.random() < 0.4) {
                        setTimeout(() => {
                            createSpecialEffect('â­', '30%', '70%');
                            createSpecialEffect('â­', '60%', '40%');
                        }, 500);
                    }
                    break;
            }
        }

        function createSpecialEffect(emoji, left, bottom) {
            const effect = document.createElement('div');
            effect.className = 'special-effect';
            effect.textContent = emoji;
            effect.style.left = left;
            effect.style.bottom = bottom;
            document.querySelector('.field').appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.parentNode.removeChild(effect);
                }
            }, 2000);
        }

        function createHomerunEffect() {
            const effect = document.createElement('div');
            effect.className = 'homerun-effect';
            document.body.appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.parentNode.removeChild(effect);
                }
            }, 1000);
        }

        function updateDistanceMeter(distance) {
            const maxDistance = 500;
            const percentage = Math.min((distance / maxDistance) * 100, 100);
            document.getElementById('meter-fill').style.height = percentage + '%';
        }

        function checkAchievements(distance) {
            if (distance >= 500 && !gameState.achievements.has('super_homer')) {
                gameState.achievements.add('super_homer');
                showAchievement('ğŸ† ìŠˆí¼ í™ˆëŸ°! 500m ëŒíŒŒ!');
            }
            
            if (gameState.homeruns >= 10 && !gameState.achievements.has('homer_king')) {
                gameState.achievements.add('homer_king');
                showAchievement('ğŸ‘‘ í™ˆëŸ°ì™•! 10í™ˆëŸ° ë‹¬ì„±!');
            }
            
            if (gameState.hits >= 50 && !gameState.achievements.has('hit_master')) {
                gameState.achievements.add('hit_master');
                showAchievement('âš¾ ì•ˆíƒ€ ë§ˆìŠ¤í„°! 50ì•ˆíƒ€ ë‹¬ì„±!');
            }
        }

        function showAchievement(text) {
            const achievement = document.createElement('div');
            achievement.className = 'achievement';
            achievement.textContent = text;
            document.body.appendChild(achievement);
            
            setTimeout(() => {
                if (achievement.parentNode) {
                    achievement.parentNode.removeChild(achievement);
                }
            }, 3000);
        }

        function showResult(title, text) {
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-text').textContent = text;
            document.getElementById('result-display').style.display = 'block';
        }

        function closeResult() {
            document.getElementById('result-display').style.display = 'none';
        }

        function changeBat() {
            gameState.currentBatIndex = (gameState.currentBatIndex + 1) % bats.length;
            updateDisplay();
            
            const currentBat = bats[gameState.currentBatIndex];
            showResult(`ë°°íŠ¸ êµì²´! ${currentBat.emoji}`, `${currentBat.name}ìœ¼ë¡œ êµì²´í–ˆìŠµë‹ˆë‹¤.\n${currentBat.effect}`);
        }

        function resetGame() {
            gameState = {
                atBats: 0,
                hits: 0,
                homeruns: 0,
                totalDistance: 0,
                maxDistance: 0,
                currentBatIndex: 0,
                ballInPlay: false,
                achievements: new Set()
            };
            
            document.getElementById('meter-fill').style.height = '0%';
            updateDisplay();
            showResult('ğŸ”„ ê²Œì„ ë¦¬ì…‹!', 'ëª¨ë“  ê¸°ë¡ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        document.addEventListener('keydown', (event) => {
            switch (event.key.toLowerCase()) {
                case ' ':
                    event.preventDefault();
                    swing();
                    break;
                case 'b':
                    changeBat();
                    break;
                case 'r':
                    resetGame();
                    break;
                case 'escape':
                    closeResult();
                    break;
            }
        });

        updateDisplay();
    </script>
</body>
</html>