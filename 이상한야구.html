<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïù¥ÏÉÅÌïú ÏïºÍµ¨ - Í¥¥ÏÉÅÌïú Î∞∞Ìä∏Î°ú ÌÉÄÏûêÎêòÍ∏∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #90EE90 100%);
            min-height: 100vh;
            color: white;
            overflow: hidden;
        }

        .game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .scoreboard {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.2em;
            z-index: 100;
        }

        .title {
            font-size: 2em;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .stats {
            display: flex;
            gap: 30px;
        }

        .field {
            flex: 1;
            position: relative;
            background: radial-gradient(ellipse at center bottom, #90EE90 0%, #228B22 100%);
            overflow: hidden;
        }

        .pitcher-mound {
            position: absolute;
            bottom: 40%;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 20px;
            background: #8B4513;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            z-index: 10;
        }

        .batter-box {
            position: absolute;
            bottom: 10%;
            right: 45%;
            width: 100px;
            height: 100px;
            border: 3px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .batter {
            font-size: 3em;
            transition: transform 0.3s ease;
            position: relative;
        }

        .batter.swinging {
            transform: rotate(45deg);
        }

        .bat-display {
            position: absolute;
            bottom: 15%;
            right: 20%;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            min-width: 200px;
            border: 2px solid #FFD700;
        }

        .current-bat {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #FFD700;
        }

        .bat-effect {
            font-size: 1em;
            color: #87CEEB;
        }

        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            border: 2px solid #FF0000;
            z-index: 15;
            transition: all 0.1s linear;
        }

        .hit-ball {
            background: #FFD700;
            box-shadow: 0 0 20px #FFD700;
        }

        .controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            z-index: 100;
        }

        .control-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .swing-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF5252);
            color: white;
        }

        .swing-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .bat-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .bat-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .reset-btn {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
            color: white;
        }

        .reset-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }

        .special-effect {
            position: absolute;
            pointer-events: none;
            z-index: 20;
            font-size: 2em;
            animation: specialEffect 2s ease-out forwards;
        }

        @keyframes specialEffect {
            0% { 
                transform: scale(0.5);
                opacity: 0;
            }
            50% { 
                transform: scale(1.2);
                opacity: 1;
            }
            100% { 
                transform: scale(1);
                opacity: 0;
            }
        }

        .homerun-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.3) 0%, transparent 70%);
            pointer-events: none;
            z-index: 50;
            animation: homerunFlash 1s ease-out;
        }

        @keyframes homerunFlash {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .result-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid #FFD700;
            text-align: center;
            display: none;
            z-index: 200;
        }

        .distance-meter {
            position: absolute;
            top: 20%;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            min-width: 150px;
        }

        .meter-bar {
            width: 100%;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            position: relative;
            margin: 10px 0;
            border: 2px solid white;
        }

        .meter-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(0deg, #4CAF50 0%, #FFC107 50%, #FF5722 100%);
            border-radius: 8px;
            transition: height 0.5s ease;
        }

        .achievement {
            position: absolute;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.9);
            color: black;
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.5em;
            font-weight: bold;
            animation: achievementPop 3s ease-out forwards;
            z-index: 100;
        }

        @keyframes achievementPop {
            0% { 
                transform: translateX(-50%) scale(0);
                opacity: 0;
            }
            20% { 
                transform: translateX(-50%) scale(1.2);
                opacity: 1;
            }
            80% { 
                transform: translateX(-50%) scale(1);
                opacity: 1;
            }
            100% { 
                transform: translateX(-50%) scale(0);
                opacity: 0;
            }
        }

        .clouds {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            overflow: hidden;
        }

        .cloud {
            position: absolute;
            color: white;
            font-size: 3em;
            opacity: 0.7;
            animation: cloudMove 20s linear infinite;
        }

        @keyframes cloudMove {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="scoreboard">
            <div class="title">‚öæ Ïù¥ÏÉÅÌïú ÏïºÍµ¨ ‚öæ</div>
            <div class="stats">
                <div>ÌÉÄÏàò: <span id="at-bats">0</span></div>
                <div>ÏïàÌÉÄ: <span id="hits">0</span></div>
                <div>ÌôàÎü∞: <span id="homeruns">0</span></div>
                <div>Ï¥ù Í±∞Î¶¨: <span id="total-distance">0</span>m</div>
                <div>ÌÉÄÏú®: <span id="batting-average">0.000</span></div>
            </div>
        </div>

        <div class="field">
            <div class="clouds">
                <div class="cloud" style="top: 10%; animation-delay: 0s;">‚òÅÔ∏è</div>
                <div class="cloud" style="top: 5%; animation-delay: -5s;">‚òÅÔ∏è</div>
                <div class="cloud" style="top: 15%; animation-delay: -10s;">‚òÅÔ∏è</div>
            </div>

            <div class="pitcher-mound">
                ü§ñ
            </div>

            <div class="batter-box">
                <div class="batter" id="batter">üèè</div>
            </div>

            <div class="bat-display">
                <div class="current-bat">ÌòÑÏû¨ Î∞∞Ìä∏:</div>
                <div id="current-bat-name">ÏùºÎ∞ò Î∞∞Ìä∏</div>
                <div class="bat-effect" id="bat-effect">ÌäπÏàò Ìö®Í≥º ÏóÜÏùå</div>
            </div>

            <div class="distance-meter">
                <div>Í±∞Î¶¨ Ï∏°Ï†ïÍ∏∞</div>
                <div class="meter-bar">
                    <div class="meter-fill" id="meter-fill"></div>
                </div>
                <div>ÏµúÎåÄ: <span id="max-distance">0</span>m</div>
            </div>
        </div>

        <div class="controls">
            <div style="color: #FFD700; margin-bottom: 10px; font-weight: bold;">Ï°∞Ïûë</div>
            <button class="control-btn swing-btn" onclick="swing()">Ïä§Ïúô! (SPACE)</button>
            <button class="control-btn bat-btn" onclick="changeBat()">Î∞∞Ìä∏ ÍµêÏ≤¥ (B)</button>
            <button class="control-btn reset-btn" onclick="resetGame()">Í≤åÏûÑ Î¶¨ÏÖã (R)</button>
        </div>

        <div class="result-display" id="result-display">
            <h2 id="result-title">Í≤∞Í≥º</h2>
            <p id="result-text">Í≤∞Í≥º ÌÖçÏä§Ìä∏</p>
            <button class="control-btn swing-btn" onclick="closeResult()" style="margin-top: 20px;">Í≥ÑÏÜçÌïòÍ∏∞</button>
        </div>
    </div>

    <script>
        let gameState = {
            atBats: 0,
            hits: 0,
            homeruns: 0,
            totalDistance: 0,
            maxDistance: 0,
            currentBatIndex: 0,
            ballInPlay: false,
            achievements: new Set()
        };

        const bats = [
            {
                name: 'ÏùºÎ∞ò Î∞∞Ìä∏',
                emoji: 'üèè',
                power: 1.0,
                accuracy: 1.0,
                effect: 'ÌäπÏàò Ìö®Í≥º ÏóÜÏùå',
                special: null
            },
            {
                name: 'Î°úÏºì Î∞∞Ìä∏',
                emoji: 'üöÄ',
                power: 2.5,
                accuracy: 0.7,
                effect: 'Ï¥àÍ∞ïÎ†• ÌååÏõå! ÎÇÆÏùÄ Ï†ïÌôïÎèÑ',
                special: 'rocket'
            },
            {
                name: 'ÎßàÎ≤ï ÏßÄÌå°Ïù¥',
                emoji: 'ü™Ñ',
                power: 1.2,
                accuracy: 1.5,
                effect: 'ÎßàÎ≤ïÏúºÎ°ú Í≥µÏùÑ Ïú†ÎèÑ',
                special: 'magic'
            },
            {
                name: 'ÌñÑÎ®∏',
                emoji: 'üî®',
                power: 3.0,
                accuracy: 0.5,
                effect: 'ÏóÑÏ≤≠ÎÇú ÌååÏõå, Îß§Ïö∞ ÎÇÆÏùÄ Ï†ïÌôïÎèÑ',
                special: 'hammer'
            },
            {
                name: 'Ïö∞ÏÇ∞',
                emoji: '‚òÇÔ∏è',
                power: 0.8,
                accuracy: 1.8,
                effect: 'Î∞îÎûåÏùÑ Ïù¥Ïö©Ìï¥ Î©ÄÎ¶¨ ÎÇ†Î¶º',
                special: 'wind'
            },
            {
                name: 'Î∞îÎÇòÎÇò',
                emoji: 'üçå',
                power: 0.5,
                accuracy: 0.3,
                effect: 'ÎûúÎç§Ìïú Í∂§ÎèÑÎ°ú ÎÇ†ÏïÑÍ∞ê',
                special: 'banana'
            },
            {
                name: 'Í≤Ä',
                emoji: '‚öîÔ∏è',
                power: 1.8,
                accuracy: 1.3,
                effect: 'Ï†ïÌôïÌïòÍ≥† ÎÇ†Ïπ¥Î°úÏö¥ ÌÉÄÍ≤©',
                special: 'sword'
            },
            {
                name: 'Î¨ºÍ≥†Í∏∞',
                emoji: 'üêü',
                power: 0.3,
                accuracy: 0.1,
                effect: 'Ïôú Î¨ºÍ≥†Í∏∞Î°ú ÏπòÎ†§Í≥† ÌïòÎäîÍ∞Ä?',
                special: 'fish'
            },
            {
                name: 'Î≤àÍ∞ú Î∞∞Ìä∏',
                emoji: '‚ö°',
                power: 2.2,
                accuracy: 1.1,
                effect: 'Î≤àÍ∞úÏ≤òÎüº Îπ†Î•∏ Ïä§Ïúô',
                special: 'lightning'
            },
            {
                name: 'Î¨¥ÏßÄÍ∞ú Î∞∞Ìä∏',
                emoji: 'üåà',
                power: 1.5,
                accuracy: 1.0,
                effect: 'ÌñâÏö¥Ïùò ÌûòÏúºÎ°ú Î©ÄÌã∞Î≥º!',
                special: 'rainbow'
            }
        ];

        function updateDisplay() {
            document.getElementById('at-bats').textContent = gameState.atBats;
            document.getElementById('hits').textContent = gameState.hits;
            document.getElementById('homeruns').textContent = gameState.homeruns;
            document.getElementById('total-distance').textContent = gameState.totalDistance;
            document.getElementById('max-distance').textContent = gameState.maxDistance;
            
            const average = gameState.atBats > 0 ? (gameState.hits / gameState.atBats).toFixed(3) : '0.000';
            document.getElementById('batting-average').textContent = average;
            
            const currentBat = bats[gameState.currentBatIndex];
            document.getElementById('current-bat-name').textContent = currentBat.name + ' ' + currentBat.emoji;
            document.getElementById('bat-effect').textContent = currentBat.effect;
            document.getElementById('batter').textContent = currentBat.emoji;
        }

        function throwBall() {
            const ball = document.createElement('div');
            ball.className = 'ball';
            ball.style.left = '50%';
            ball.style.bottom = '40%';
            document.querySelector('.field').appendChild(ball);
            
            let position = { x: 50, y: 40 };
            const targetX = 45;
            const targetY = 10;
            const speed = 2;
            
            const interval = setInterval(() => {
                position.x += (targetX - position.x) * 0.1;
                position.y += (targetY - position.y) * 0.1;
                
                ball.style.left = position.x + '%';
                ball.style.bottom = position.y + '%';
                
                if (Math.abs(position.x - targetX) < 1 && Math.abs(position.y - targetY) < 1) {
                    clearInterval(interval);
                    if (!gameState.ballInPlay) {
                        setTimeout(() => {
                            if (ball.parentNode) {
                                ball.parentNode.removeChild(ball);
                            }
                            showResult('Ïä§Ìä∏ÎùºÏù¥ÌÅ¨!', 'Í≥µÏùÑ ÏπòÏßÄ Î™ªÌñàÏäµÎãàÎã§.');
                            gameState.atBats++;
                            updateDisplay();
                        }, 500);
                    }
                }
            }, 50);
            
            return ball;
        }

        function swing() {
            if (gameState.ballInPlay) return;
            
            gameState.ballInPlay = true;
            document.getElementById('batter').classList.add('swinging');
            
            const ball = throwBall();
            
            setTimeout(() => {
                document.getElementById('batter').classList.remove('swinging');
                
                const currentBat = bats[gameState.currentBatIndex];
                const hitChance = currentBat.accuracy * 0.8;
                const isHit = Math.random() < hitChance;
                
                if (isHit) {
                    hitBall(ball, currentBat);
                } else {
                    showResult('ÌóõÏä§Ïúô!', 'Í≥µÏùÑ ÎßûÏ∂îÏßÄ Î™ªÌñàÏäµÎãàÎã§.');
                    gameState.atBats++;
                }
                
                gameState.ballInPlay = false;
                updateDisplay();
            }, 300);
        }

        function hitBall(ball, bat) {
            ball.classList.add('hit-ball');
            gameState.atBats++;
            gameState.hits++;
            
            const basePower = bat.power;
            const randomFactor = 0.5 + Math.random();
            const distance = Math.floor(basePower * randomFactor * 100);
            
            gameState.totalDistance += distance;
            gameState.maxDistance = Math.max(gameState.maxDistance, distance);
            
            animateHitBall(ball, distance, bat);
            applySpecialEffect(bat, distance);
            
            let resultTitle, resultText;
            
            if (distance >= 400) {
                resultTitle = 'üèÜ ÌôàÎü∞!';
                resultText = `ÏóÑÏ≤≠ÎÇú ${distance}m ÌôàÎü∞ÏûÖÎãàÎã§!`;
                gameState.homeruns++;
                createHomerunEffect();
            } else if (distance >= 300) {
                resultTitle = 'üî• Ïû•ÌÉÄ!';
                resultText = `ÌõåÎ•≠Ìïú ${distance}m Ïû•ÌÉÄÏûÖÎãàÎã§!`;
            } else if (distance >= 200) {
                resultTitle = 'üëç ÏïàÌÉÄ!';
                resultText = `Ï¢ãÏùÄ ${distance}m ÏïàÌÉÄÏûÖÎãàÎã§!`;
            } else {
                resultTitle = '‚öæ ÏïΩÌïú ÌÉÄÍµ¨';
                resultText = `${distance}m ÏïΩÌïú ÌÉÄÍµ¨ÏûÖÎãàÎã§.`;
            }
            
            updateDistanceMeter(distance);
            checkAchievements(distance);
            showResult(resultTitle, resultText);
        }

        function animateHitBall(ball, distance, bat) {
            const maxDistance = 500;
            const finalX = 20 + (distance / maxDistance) * 60;
            const finalY = 80 + (distance / maxDistance) * 20;
            
            let currentX = 45;
            let currentY = 10;
            let frame = 0;
            const totalFrames = 60;
            
            const animation = setInterval(() => {
                frame++;
                const progress = frame / totalFrames;
                
                currentX = 45 + (finalX - 45) * progress;
                currentY = 10 + (finalY - 10) * progress * (1 - progress * 0.5);
                
                ball.style.left = currentX + '%';
                ball.style.bottom = currentY + '%';
                ball.style.transform = `scale(${1 - progress * 0.5})`;
                
                if (frame >= totalFrames) {
                    clearInterval(animation);
                    setTimeout(() => {
                        if (ball.parentNode) {
                            ball.parentNode.removeChild(ball);
                        }
                    }, 1000);
                }
            }, 50);
        }

        function applySpecialEffect(bat, distance) {
            const field = document.querySelector('.field');
            
            switch (bat.special) {
                case 'rocket':
                    createSpecialEffect('üöÄüí®', '30%', '50%');
                    break;
                case 'magic':
                    createSpecialEffect('‚ú®üåü‚ú®', '40%', '60%');
                    setTimeout(() => createSpecialEffect('üîÆ', '50%', '70%'), 500);
                    break;
                case 'hammer':
                    createSpecialEffect('üí•üî®üí•', '35%', '55%');
                    break;
                case 'wind':
                    createSpecialEffect('üå™Ô∏èüí®', '45%', '65%');
                    break;
                case 'banana':
                    createSpecialEffect('üçåüòÇ', '25%', '45%');
                    if (Math.random() < 0.3) {
                        setTimeout(() => createSpecialEffect('ü§™', '60%', '30%'), 1000);
                    }
                    break;
                case 'sword':
                    createSpecialEffect('‚öîÔ∏èüí¢', '40%', '50%');
                    break;
                case 'fish':
                    createSpecialEffect('üêüüí¶', '35%', '45%');
                    if (Math.random() < 0.5) {
                        setTimeout(() => createSpecialEffect('üòÖ', '50%', '60%'), 800);
                    }
                    break;
                case 'lightning':
                    createSpecialEffect('‚ö°‚ö°‚ö°', '45%', '55%');
                    document.querySelector('.field').style.filter = 'brightness(1.5)';
                    setTimeout(() => {
                        document.querySelector('.field').style.filter = 'brightness(1)';
                    }, 200);
                    break;
                case 'rainbow':
                    createSpecialEffect('üåà', '40%', '60%');
                    if (Math.random() < 0.4) {
                        setTimeout(() => {
                            createSpecialEffect('‚≠ê', '30%', '70%');
                            createSpecialEffect('‚≠ê', '60%', '40%');
                        }, 500);
                    }
                    break;
            }
        }

        function createSpecialEffect(emoji, left, bottom) {
            const effect = document.createElement('div');
            effect.className = 'special-effect';
            effect.textContent = emoji;
            effect.style.left = left;
            effect.style.bottom = bottom;
            document.querySelector('.field').appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.parentNode.removeChild(effect);
                }
            }, 2000);
        }

        function createHomerunEffect() {
            const effect = document.createElement('div');
            effect.className = 'homerun-effect';
            document.body.appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.parentNode.removeChild(effect);
                }
            }, 1000);
        }

        function updateDistanceMeter(distance) {
            const maxDistance = 500;
            const percentage = Math.min((distance / maxDistance) * 100, 100);
            document.getElementById('meter-fill').style.height = percentage + '%';
        }

        function checkAchievements(distance) {
            if (distance >= 500 && !gameState.achievements.has('super_homer')) {
                gameState.achievements.add('super_homer');
                showAchievement('üèÜ ÏäàÌçº ÌôàÎü∞! 500m ÎèåÌåå!');
            }
            
            if (gameState.homeruns >= 10 && !gameState.achievements.has('homer_king')) {
                gameState.achievements.add('homer_king');
                showAchievement('üëë ÌôàÎü∞Ïôï! 10ÌôàÎü∞ Îã¨ÏÑ±!');
            }
            
            if (gameState.hits >= 50 && !gameState.achievements.has('hit_master')) {
                gameState.achievements.add('hit_master');
                showAchievement('‚öæ ÏïàÌÉÄ ÎßàÏä§ÌÑ∞! 50ÏïàÌÉÄ Îã¨ÏÑ±!');
            }
        }

        function showAchievement(text) {
            const achievement = document.createElement('div');
            achievement.className = 'achievement';
            achievement.textContent = text;
            document.body.appendChild(achievement);
            
            setTimeout(() => {
                if (achievement.parentNode) {
                    achievement.parentNode.removeChild(achievement);
                }
            }, 3000);
        }

        function showResult(title, text) {
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-text').textContent = text;
            document.getElementById('result-display').style.display = 'block';
        }

        function closeResult() {
            document.getElementById('result-display').style.display = 'none';
        }

        function changeBat() {
            gameState.currentBatIndex = (gameState.currentBatIndex + 1) % bats.length;
            updateDisplay();
            
            const currentBat = bats[gameState.currentBatIndex];
            showResult(`Î∞∞Ìä∏ ÍµêÏ≤¥! ${currentBat.emoji}`, `${currentBat.name}ÏúºÎ°ú ÍµêÏ≤¥ÌñàÏäµÎãàÎã§.\n${currentBat.effect}`);
        }

        function resetGame() {
            gameState = {
                atBats: 0,
                hits: 0,
                homeruns: 0,
                totalDistance: 0,
                maxDistance: 0,
                currentBatIndex: 0,
                ballInPlay: false,
                achievements: new Set()
            };
            
            document.getElementById('meter-fill').style.height = '0%';
            updateDisplay();
            showResult('üîÑ Í≤åÏûÑ Î¶¨ÏÖã!', 'Î™®Îì† Í∏∞Î°ùÏù¥ Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.');
        }

        document.addEventListener('keydown', (event) => {
            switch (event.key.toLowerCase()) {
                case ' ':
                    event.preventDefault();
                    swing();
                    break;
                case 'b':
                    changeBat();
                    break;
                case 'r':
                    resetGame();
                    break;
                case 'escape':
                    closeResult();
                    break;
            }
        });

        updateDisplay();
    </script>
</body>
</html>