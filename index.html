<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÎØ∏ÎãàÍ≤åÏûÑ Ïª¨Î†âÏÖò | WHILILI</title>
  <style>
    :root{--bg1:#fdfbff;--bg2:#e9f7ff;--bg3:#d3edff;--fg:#222;--card:#fff;--accent:#0077ff}
    *{box-sizing:border-box}
    body{margin:0;padding:0;font-family:'Segoe UI',sans-serif;background:linear-gradient(130deg,var(--bg1),var(--bg2),var(--bg3));background-size:400% 400%;animation:bgMove 25s ease infinite;color:var(--fg);height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;overflow:hidden}
    @keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    h1{margin:20px 0 8px;font-size:44px;color:var(--accent);text-align:center;user-select:none;z-index:10;position:relative}
    #datetime{margin-bottom:20px;font-size:16px;color:#555;user-select:none;z-index:10}
    #grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:20px;width:90vw;max-width:1000px;padding-bottom:60px;z-index:10}
    button.game{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--card);border:none;border-radius:14px;padding:24px;font-size:18px;color:var(--fg);cursor:pointer;transition:transform .2s,background .2s,box-shadow .2s;box-shadow:0 4px 10px rgba(0,0,0,.08)}
    button.game span.icon{font-size:38px;margin-bottom:12px}
    button.game:hover{background:#f0f9ff;transform:translateY(-4px);box-shadow:0 8px 16px rgba(0,0,0,.15)}
    #loader{width:100%;height:100%;border:none;display:none;z-index:5}
    body.playing h1,body.playing #grid,body.playing #datetime{display:none}
    body.playing #loader{display:block}
    footer{position:fixed;bottom:8px;left:0;width:100%;text-align:center;font-size:14px;color:#666;pointer-events:none;user-select:none;z-index:1}
    body.playing footer{display:none}
    #back-btn{position:fixed;top:16px;left:16px;background:#ffffffcc;color:var(--accent);border:none;border-radius:8px;padding:8px 14px;font-size:16px;font-weight:bold;box-shadow:0 2px 6px rgba(0,0,0,.25);cursor:pointer;z-index:1000;display:none;user-select:none}
    body.playing #back-btn{display:block}
    #test-ad{position:fixed;bottom:40px;left:50%;transform:translateX(-50%);width:320px;height:50px;background:#0077ff;color:#fff;font-weight:bold;font-size:18px;display:flex;justify-content:center;align-items:center;border-radius:8px;box-shadow:0 3px 6px rgba(0,0,0,.3);user-select:none;z-index:1000}
    #character{position:relative;width:120px;height:140px;margin:20px 0 0;z-index:10;perspective:800px;user-select:none}
    #character .body{width:100px;height:120px;background:linear-gradient(135deg,#ffd966,#f4b942);border-radius:50% 50% 40% 40%/60% 60% 40% 40%;margin:0 auto;box-shadow:0 8px 12px rgba(0,0,0,.15);animation:body-bounce 2.4s ease-in-out infinite}
    #character .eye{position:absolute;top:40px;width:20px;height:20px;background:#fff;border-radius:50%;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}
    #character .eye.left{left:20px}
    #character .eye.right{right:20px}
    #character .pupil{width:10px;height:10px;background:#000;border-radius:50%;position:absolute;top:5px;left:5px;animation:pupil-move 3s ease-in-out infinite}
    #character .mouth{position:absolute;bottom:30px;left:50%;width:40px;height:24px;margin-left:-20px;border-bottom:6px solid #b35e00;border-radius:0 0 20px 20px;animation:mouth-smile 4s ease-in-out infinite}
    @keyframes body-bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    @keyframes pupil-move{0%,100%{transform:translateX(0)}50%{transform:translateX(5px)}}
    @keyframes mouth-smile{0%,100%{border-color:#b35e00}50%{border-color:#ff8c00}}
  </style>
</head>
<body>
  <button id="back-btn" onclick="location.href='https://whilili.github.io/TEST/'">‚Üê Back</button>
  <h1>üéÆ ÎØ∏ÎãàÍ≤åÏûÑ Ïª¨Î†âÏÖò</h1>
  <div id="character">
    <div class="body"><div class="eye left"><div class="pupil"></div></div><div class="eye right"><div class="pupil"></div></div><div class="mouth"></div></div>
  </div>
  <div id="datetime"></div>
  <div id="grid"></div>
  <iframe id="loader" src="" scrolling="no"></iframe>
  <div id="test-ad">ÌÖåÏä§Ìä∏ Í¥ëÍ≥† ÏòÅÏó≠</div>
  <footer id="copyright"></footer>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js';
    import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from 'https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js';

    const config={apiKey:'AIzaSyCu11iqjyQ0uvq8ikIE5jnW7tB8cCPf5DA',authDomain:'test-2986a.firebaseapp.com',projectId:'test-2986a',storageBucket:'test-2986a.appspot.com',messagingSenderId:'774502147365',appId:'1:774502147365:web:eab2dddc3ec86642e6a6cc',measurementId:'G-E6D45R514C'};
    const app=initializeApp(config);
    const db=getFirestore(app);

    // Ï≤´ Î∞©Î¨∏ Ïãú Î©îÏù∏ ÌôîÎ©¥ ÌÅ¥Î¶≠ Ïàò 1 Ï¶ùÍ∞Ä
    recordClick('Î©îÏù∏ ÌôîÎ©¥');

    const games=[
      {title:'ÎààÏïå ÌÄ¥Ï¶à',file:'ÎààÏïåÌÄ¥Ï¶à.html',icon:'üëÅÔ∏è'},
      {title:'ÎààÏç∞ÎØ∏ Í≤åÏûÑ',file:'ÎààÏç∞ÎØ∏ÌÄ¥Ï¶à.html',icon:'üëÄ'},
      {title:'Í∑∏Î¶ºÏûê ÌÄ¥Ï¶à',file:'Í∑∏Î¶ºÏûêÌÄ¥Ï¶à.html',icon:'üï∂Ô∏è'},
      {title:'ÎØ∏Î°ú Ï∞æÍ∏∞',file:'ÎØ∏Î°úÏ∞æÍ∏∞.html',icon:'üß≠'},
      {title:'ÌÅ¨Î†àÏù¥ÏßÄ ÎÇöÏãúÏôï',file:'ÌÅ¨Î†àÏù¥ÏßÄÎÇöÏãúÏôï.html',icon:'üé£'},
      {title:'Ïù¥ÏÉÅÌïú ÏïºÍµ¨',file:'Ïù¥ÏÉÅÌïúÏïºÍµ¨.html',icon:'‚öæ'},
      {title:'Í≥µÌè¨Ïùò Ïô∏Î∞úÏûêÏ†ÑÍ±∞',file:'Í≥µÌè¨ÏùòÏô∏Î∞úÏûêÏ†ÑÍ±∞.html',icon:'üö¥'},
      {title:'ÎåÑÏä§ Ï±åÎ¶∞ÏßÄ',file:'ÎåÑÏä§Ï±åÎ¶∞ÏßÄ.html',icon:'üíÉ'},
      {title:'Î≤àÍ∞ú ÌîºÌïòÍ∏∞',file:'Î≤àÍ∞úÌîºÌïòÍ∏∞.html',icon:'‚ö°'},
      {title:'Í≥†ÏñëÏù¥Îäî Ïñ¥ÎîîÏóê',file:'Í≥†ÏñëÏù¥ÎäîÏñ¥ÎîîÏóê.html',icon:'üê±'},
      {title:'Í≥®ÌÇ§ÌçºÏùò Ïã†',file:'Í≥®ÌÇ§ÌçºÏùòÏã†.html',icon:'üß§'}];

    const grid=document.getElementById('grid');
    const loader=document.getElementById('loader');
    let current='';

    async function recordClick(title){
      const ref=doc(db,'clickCounts',title);
      const snap=await getDoc(ref);
      if(snap.exists()){
        await updateDoc(ref,{count:increment(1)});
      }else{
        await setDoc(ref,{count:1});
      }
    }

    function loadGame(file,title){
      if(file!==current){loader.src=file;current=file;document.body.classList.add('playing');recordClick(title);} }

    games.forEach(g=>{
      const b=document.createElement('button');b.className='game';b.innerHTML=`<span class='icon'>${g.icon}</span>${g.title}`;b.onclick=()=>loadGame(g.file,g.title);grid.appendChild(b);} );

    function updateDateTime(){const now=new Date();const opt={year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit',weekday:'short',hour12:false,timeZone:'Asia/Seoul'};document.getElementById('datetime').textContent=now.toLocaleString('ko-KR',opt);} setInterval(updateDateTime,1000);updateDateTime();

    document.getElementById('copyright').textContent='¬© 2025 WHILILI. All rights reserved.';
  </script>
</body>
</html>
