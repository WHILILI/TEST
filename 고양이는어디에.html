<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥†ÏñëÏù¥Îäî Ïñ¥ÎîîÏóê</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 50%, #F0E68C 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .game-container {
            width: 100vw;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .title {
            font-size: 3em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #FF6B6B;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: titleBounce 2s ease-in-out infinite;
        }

        @keyframes titleBounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .game-info {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 30px;
            border-radius: 20px;
            font-size: 1.2em;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .game-area {
            width: 90vw;
            max-width: 800px;
            height: 500px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            border: 3px solid #4ECDC4;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .hiding-spot {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 3em;
            user-select: none;
        }

        .hiding-spot:hover {
            transform: scale(1.1);
            filter: brightness(1.2);
        }

        .hiding-spot.found {
            animation: found 1s ease-out;
        }

        @keyframes found {
            0% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.5) rotate(180deg); }
            100% { transform: scale(1) rotate(360deg); }
        }

        .cat {
            position: absolute;
            font-size: 2.5em;
            z-index: 10;
            animation: catFound 2s ease-out;
            pointer-events: none;
        }

        @keyframes catFound {
            0% { 
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% { 
                transform: scale(1.3) rotate(180deg);
                opacity: 1;
            }
            100% { 
                transform: scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        .timer {
            font-size: 2em;
            font-weight: bold;
            color: #FF6B6B;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 15px;
            border: 2px solid #FF6B6B;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 15px 25px;
            font-size: 1.2em;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .start-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }

        .hint-btn {
            background: linear-gradient(45deg, #FF9800, #F57C00);
        }

        .reset-btn {
            background: linear-gradient(45deg, #f44336, #da190b);
        }

        .difficulty-btn {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
        }

        .hint-indicator {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 3px dashed #FFD700;
            border-radius: 50%;
            animation: hintPulse 1s ease-in-out infinite;
            pointer-events: none;
            z-index: 5;
        }

        @keyframes hintPulse {
            0%, 100% { 
                transform: scale(1);
                opacity: 0.7;
            }
            50% { 
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid #4ECDC4;
            text-align: center;
            z-index: 100;
            display: none;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .level-display {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #4ECDC4;
        }

        .progress-bar {
            width: 300px;
            height: 20px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px auto;
            border: 2px solid #4ECDC4;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #FF9800 50%, #f44336 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .cat-counter {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .cat-icon {
            font-size: 2em;
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .cat-icon.found {
            opacity: 1;
            animation: catIconFound 0.5s ease;
        }

        @keyframes catIconFound {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        .particle {
            position: absolute;
            font-size: 1.5em;
            pointer-events: none;
            animation: particleFloat 2s ease-out forwards;
            z-index: 20;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .achievement {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.9);
            color: black;
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.5em;
            font-weight: bold;
            animation: achievementSlide 3s ease-out forwards;
            z-index: 150;
            display: none;
        }

        @keyframes achievementSlide {
            0% { 
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
            20% { 
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
            80% { 
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
            100% { 
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .game-area {
                width: 95vw;
                height: 400px;
            }
            
            .hiding-spot {
                font-size: 2.5em;
            }
            
            .cat {
                font-size: 2em;
            }
            
            .title {
                font-size: 2.2em;
            }
            
            .game-info {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="title">üê± Í≥†ÏñëÏù¥Îäî Ïñ¥ÎîîÏóê? üîç</h1>

        <div class="game-info">
            <div>Î†àÎ≤®: <span id="level">1</span></div>
            <div>Ï∞æÏùÄ Í≥†ÏñëÏù¥: <span id="found-cats">0</span> / <span id="total-cats">3</span></div>
            <div>Ï†êÏàò: <span id="score">0</span></div>
            <div>ÌûåÌä∏: <span id="hints">3</span>Í∞ú</div>
        </div>

        <div class="timer" id="timer">ÏãúÍ∞Ñ: 30Ï¥à</div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="level-display">
            <div>ÌòÑÏû¨ ÎÇúÏù¥ÎèÑ: <span id="difficulty-text">Ïâ¨ÏõÄ</span></div>
        </div>

        <div class="cat-counter" id="cat-counter">
            <div class="cat-icon">üê±</div>
            <div class="cat-icon">üê±</div>
            <div class="cat-icon">üê±</div>
        </div>

        <div class="game-area" id="game-area">
            <!-- Ïà®Îäî Ïû•ÏÜåÎì§Í≥º Í≥†ÏñëÏù¥Îì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±Îê©ÎãàÎã§ -->
        </div>

        <div class="controls">
            <button class="btn start-btn" onclick="startGame()">Í≤åÏûÑ ÏãúÏûë</button>
            <button class="btn hint-btn" onclick="useHint()">ÌûåÌä∏ ÏÇ¨Ïö©</button>
            <button class="btn difficulty-btn" onclick="changeDifficulty()">ÎÇúÏù¥ÎèÑ Î≥ÄÍ≤Ω</button>
            <button class="btn reset-btn" onclick="resetGame()">Í≤åÏûÑ Î¶¨ÏÖã</button>
        </div>

        <div class="achievement" id="achievement">üèÜ ÏóÖÏ†Å Îã¨ÏÑ±!</div>

        <div class="game-over" id="game-over">
            <h2 id="game-over-title">Í≤åÏûÑ Ï¢ÖÎ£å!</h2>
            <p id="game-over-text">Í≤∞Í≥º ÌÖçÏä§Ìä∏</p>
            <p>ÏµúÏ¢Ö Ï†êÏàò: <span id="final-score">0</span></p>
            <p>ÎèÑÎã¨ Î†àÎ≤®: <span id="final-level">1</span></p>
            <button class="btn start-btn" onclick="startGame()" style="margin-top: 20px;">Îã§Ïãú ÏãúÏûë</button>
        </div>
    </div>

    <script>
        let gameState = {
            level: 1,
            foundCats: 0,
            totalCats: 3,
            score: 0,
            hints: 3,
            timeLeft: 30,
            isPlaying: false,
            difficulty: 'easy',
            catPositions: [],
            gameTimer: null,
            achievements: new Set()
        };

        const difficulties = {
            easy: { name: 'Ïâ¨ÏõÄ', cats: 3, time: 30, hideSpots: 8 },
            normal: { name: 'Î≥¥ÌÜµ', cats: 4, time: 25, hideSpots: 12 },
            hard: { name: 'Ïñ¥Î†§ÏõÄ', cats: 5, time: 20, hideSpots: 16 },
            expert: { name: 'Ï†ÑÎ¨∏Í∞Ä', cats: 6, time: 15, hideSpots: 20 }
        };

        const hidingSpots = [
            'üå≥', 'üå≤', 'üè†', 'üè°', 'üè¢', 'üè∞', 'üé™', '‚õ∫',
            'üì¶', 'üõí', 'üóÇÔ∏è', 'üìö', 'üõãÔ∏è', 'ü™ë', 'üõèÔ∏è', 'üöó',
            'üåª', 'üå∫', 'üåπ', 'üå∑', 'üåø', 'üçÑ', 'ü™®', '‚≠ê',
            'üéà', 'üéÅ', 'üéÇ', 'üç∞', 'üçé', 'üçå', 'ü•ï', 'üß∏'
        ];

        const catTypes = ['üê±', 'üêà', 'üò∏', 'üò∫', 'üòª', 'üôÄ'];

        function startGame() {
            const diff = difficulties[gameState.difficulty];
            gameState.isPlaying = true;
            gameState.foundCats = 0;
            gameState.totalCats = diff.cats;
            gameState.timeLeft = diff.time;
            gameState.hints = 3;
            gameState.catPositions = [];

            document.getElementById('game-over').style.display = 'none';
            generateGameArea();
            startTimer();
            updateDisplay();
        }

        function generateGameArea() {
            const gameArea = document.getElementById('game-area');
            gameArea.innerHTML = '';

            const diff = difficulties[gameState.difficulty];
            const spots = [...hidingSpots].sort(() => Math.random() - 0.5).slice(0, diff.hideSpots);
            
            gameState.catPositions = [];
            for (let i = 0; i < gameState.totalCats; i++) {
                gameState.catPositions.push(i);
            }

            spots.forEach((spot, index) => {
                const hideSpot = document.createElement('div');
                hideSpot.className = 'hiding-spot';
                hideSpot.textContent = spot;
                hideSpot.style.left = Math.random() * (gameArea.offsetWidth - 100) + 'px';
                hideSpot.style.top = Math.random() * (gameArea.offsetHeight - 100) + 'px';
                hideSpot.onclick = () => checkHidingSpot(index, hideSpot);
                gameArea.appendChild(hideSpot);
            });

            updateCatCounter();
        }

        function checkHidingSpot(index, element) {
            if (!gameState.isPlaying) return;

            if (gameState.catPositions.includes(index)) {
                foundCat(element);
            } else {
                wrongGuess(element);
            }
        }

        function foundCat(element) {
            gameState.foundCats++;
            gameState.score += gameState.level * 100 + gameState.timeLeft * 10;

            element.classList.add('found');
            
            const cat = document.createElement('div');
            cat.className = 'cat';
            cat.textContent = catTypes[Math.floor(Math.random() * catTypes.length)];
            cat.style.left = element.style.left;
            cat.style.top = element.style.top;
            document.getElementById('game-area').appendChild(cat);

            createParticles(element);
            updateCatCounter();
            checkLevelComplete();
            updateDisplay();
        }

        function wrongGuess(element) {
            element.style.animation = 'none';
            element.offsetHeight;
            element.style.animation = 'found 0.5s ease-out';
            element.style.background = 'rgba(255, 0, 0, 0.3)';
            
            setTimeout(() => {
                element.style.background = 'none';
            }, 500);
        }

        function createParticles(element) {
            const particles = ['‚ú®', '‚≠ê', 'üåü', 'üí´', 'üéâ'];
            const rect = element.getBoundingClientRect();
            const gameAreaRect = document.getElementById('game-area').getBoundingClientRect();

            for (let i = 0; i < 5; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = particles[Math.floor(Math.random() * particles.length)];
                particle.style.left = (rect.left - gameAreaRect.left + Math.random() * 60) + 'px';
                particle.style.top = (rect.top - gameAreaRect.top + Math.random() * 60) + 'px';
                
                document.getElementById('game-area').appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 2000);
            }
        }

        function updateCatCounter() {
            const catIcons = document.querySelectorAll('.cat-icon');
            catIcons.forEach((icon, index) => {
                if (index < gameState.foundCats) {
                    icon.classList.add('found');
                } else {
                    icon.classList.remove('found');
                }
            });
        }

        function checkLevelComplete() {
            if (gameState.foundCats >= gameState.totalCats) {
                gameState.level++;
                gameState.score += 500;
                
                clearInterval(gameState.gameTimer);
                
                setTimeout(() => {
                    if (gameState.level % 5 === 0) {
                        showAchievement(`üèÜ Î†àÎ≤® ${gameState.level} Îã¨ÏÑ±!`);
                    }
                    startGame();
                }, 2000);
                
                checkAchievements();
            }
        }

        function startTimer() {
            clearInterval(gameState.gameTimer);
            
            gameState.gameTimer = setInterval(() => {
                gameState.timeLeft--;
                updateDisplay();
                
                if (gameState.timeLeft <= 0) {
                    gameOver();
                }
            }, 1000);
        }

        function gameOver() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);

            document.getElementById('game-over-title').textContent = 
                gameState.foundCats >= gameState.totalCats ? 'üéâ Î†àÎ≤® ÏôÑÎ£å!' : '‚è∞ ÏãúÍ∞Ñ Ï¢ÖÎ£å!';
            
            document.getElementById('game-over-text').textContent = 
                `${gameState.foundCats}/${gameState.totalCats} ÎßàÎ¶¨Ïùò Í≥†ÏñëÏù¥Î•º Ï∞æÏïòÏäµÎãàÎã§!`;
            
            document.getElementById('final-score').textContent = gameState.score;
            document.getElementById('final-level').textContent = gameState.level;
            document.getElementById('game-over').style.display = 'block';
        }

        function useHint() {
            if (!gameState.isPlaying || gameState.hints <= 0) return;
            
            gameState.hints--;
            updateDisplay();
            
            const hideSpots = document.querySelectorAll('.hiding-spot');
            const catIndex = gameState.catPositions[0];
            
            if (hideSpots[catIndex]) {
                const hintIndicator = document.createElement('div');
                hintIndicator.className = 'hint-indicator';
                hintIndicator.style.left = hideSpots[catIndex].style.left;
                hintIndicator.style.top = hideSpots[catIndex].style.top;
                
                document.getElementById('game-area').appendChild(hintIndicator);
                
                setTimeout(() => {
                    if (hintIndicator.parentNode) {
                        hintIndicator.parentNode.removeChild(hintIndicator);
                    }
                }, 3000);
            }
        }

        function changeDifficulty() {
            const diffKeys = Object.keys(difficulties);
            const currentIndex = diffKeys.indexOf(gameState.difficulty);
            const nextIndex = (currentIndex + 1) % diffKeys.length;
            gameState.difficulty = diffKeys[nextIndex];
            
            document.getElementById('difficulty-text').textContent = 
                difficulties[gameState.difficulty].name;
        }

        function resetGame() {
            gameState.level = 1;
            gameState.score = 0;
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            
            document.getElementById('game-area').innerHTML = '';
            document.getElementById('game-over').style.display = 'none';
            updateDisplay();
        }

        function checkAchievements() {
            if (gameState.level >= 5 && !gameState.achievements.has('level_5')) {
                gameState.achievements.add('level_5');
                showAchievement('üèÜ Î†àÎ≤® 5 Îã¨ÏÑ±!');
            }
            
            if (gameState.level >= 10 && !gameState.achievements.has('level_10')) {
                gameState.achievements.add('level_10');
                showAchievement('üèÜ Î†àÎ≤® 10 Îã¨ÏÑ±!');
            }
            
            if (gameState.score >= 5000 && !gameState.achievements.has('score_5000')) {
                gameState.achievements.add('score_5000');
                showAchievement('üèÜ 5000Ï†ê Îã¨ÏÑ±!');
            }
        }

        function showAchievement(text) {
            const achievement = document.getElementById('achievement');
            achievement.textContent = text;
            achievement.style.display = 'block';
            achievement.style.animation = 'none';
            achievement.offsetHeight;
            achievement.style.animation = 'achievementSlide 3s ease-out forwards';
            
            setTimeout(() => {
                achievement.style.display = 'none';
            }, 3000);
        }

        function updateDisplay() {
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('found-cats').textContent = gameState.foundCats;
            document.getElementById('total-cats').textContent = gameState.totalCats;
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('hints').textContent = gameState.hints;
            document.getElementById('timer').textContent = `ÏãúÍ∞Ñ: ${gameState.timeLeft}Ï¥à`;
            
            const progress = ((30 - gameState.timeLeft) / 30) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            
            const catCounter = document.getElementById('cat-counter');
            catCounter.innerHTML = '';
            for (let i = 0; i < gameState.totalCats; i++) {
                const catIcon = document.createElement('div');
                catIcon.className = 'cat-icon';
                catIcon.textContent = 'üê±';
                if (i < gameState.foundCats) {
                    catIcon.classList.add('found');
                }
                catCounter.appendChild(catIcon);
            }
        }

        updateDisplay();
    </script>
</body>
</html>